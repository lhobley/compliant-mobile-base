## 2026-01-29 - Login Redirect Loop Issue

### Problem
App keeps redirecting back to login page after successful authentication.

### Technical Details
- Firebase project: `compliancedaddy-fff8c`
- Email/Password provider enabled in console
- Server running on port 3001 (3000 was occupied)
- User testing in Comet browser

### Attempted Fixes
1. Updated `AuthContext.tsx` to handle Firestore fetch errors with fallback
2. Updated `ProtectedRoute` in `App.tsx` to check `loading` state
3. Added fallback user object if Firestore profile fetch fails

### Current Status
Still experiencing redirect loop after login/signup. The video intro plays, then redirects to `/`, but `ProtectedRoute` is redirecting back to `/login`.

### Suspected Cause
Race condition between:
- `onAuthStateChanged` firing
- Firestore profile fetch completing
- `ProtectedRoute` rendering with `user` still null

### Next Steps Needed
- Add extensive console logging to trace state
- Verify `user` object is properly set in AuthContext after login
- Check if `loading` state is working correctly in ProtectedRoute
